# 문서 2. React 기초 (M1-M2: Bootstrap + CRUD)

> 이 문서는 **Milestone 1-2** 용이다.
> 전제:
>
> * 기본적인 프로그래밍 경험은 있음
> * HTML/CSS/JavaScript 기초 지식
> * TypeScript는 처음이어도 되지만 빠르게 익힐 의지가 있음
> * 이제 **React로 웹 애플리케이션**을 만들 준비가 된 상태

---

## 0. 전제 / 목표

### 전제

* Node.js 20+ 설치 가능
* npm 사용 가능
* Git + GitHub 기본 사용 가능
* 간단한 HTML/CSS 작성 경험

### 이 문서의 목표

1. **Vite + React + TypeScript** 프로젝트 생성 (M1)
2. **React Router v6**로 라우팅 구조 구축
3. **Tailwind CSS**로 스타일링
4. **React Hook Form + Zod**로 폼 검증 (M2)
5. **CRUD UI** 구현 (목록/상세/생성/수정/삭제)

### 이 문서가 다루는 범위

* **M1**: Bootstrap & Routing & CI
* **M2**: Issue Tracker CRUD

**다루지 않는 범위** (다음 문서 3, 4에서):

* M3: 로그인/인증/인가
* M4: React Query, 통계 대시보드
* M5-M6: 검색/성능/테스트

---

## 1. M1: Bootstrap & Routing & CI

### 1.1 목표

* Vite 기반 React + TypeScript 프로젝트 생성
* React Router v6로 기본 라우팅 설정
* Tailwind CSS 스타일링 시스템 구축
* 레이아웃 컴포넌트 (Header, Sidebar)
* GitHub Actions CI 파이프라인

### 1.2 프로젝트 생성

```bash
# Vite 프로젝트 생성
npm create vite@latest frontend -- --template react-ts

# 디렉토리 이동
cd frontend

# 의존성 설치
npm install
```

**생성된 파일 확인**:
- `package.json` - 스크립트 & 의존성
- `tsconfig.json` - TypeScript 설정
- `vite.config.ts` - Vite 설정
- `src/main.tsx` - 엔트리포인트
- `src/App.tsx` - 루트 컴포넌트

### 1.3 React Router 설정

**설치**:

```bash
npm install react-router-dom
```

**App.tsx (라우팅 루트)**:

```typescript
// src/App.tsx
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import { MainLayout } from './app/layouts/MainLayout';
import { HomePage } from './features/home/HomePage';
import { LoginPage } from './features/auth/LoginPage';
import { ProjectListPage } from './features/project/ProjectListPage';
import { IssueListPage } from './features/issue/IssueListPage';
import { IssueDetailPage } from './features/issue/IssueDetailPage';

export default function App() {
  return (
    <BrowserRouter>
      <Routes>
        <Route path="/login" element={<LoginPage />} />
        <Route element={<MainLayout />}>
          <Route path="/" element={<HomePage />} />
          <Route path="/projects" element={<ProjectListPage />} />
          <Route path="/projects/:projectId/issues" element={<IssueListPage />} />
          <Route path="/issues/:issueId" element={<IssueDetailPage />} />
        </Route>
      </Routes>
    </BrowserRouter>
  );
}
```

**MainLayout (레이아웃 컴포넌트)**:

```typescript
// src/app/layouts/MainLayout.tsx
import { Outlet, Link } from 'react-router-dom';

export function MainLayout() {
  return (
    <div className="min-h-screen bg-gray-50">
      <header className="bg-white shadow">
        <nav className="container mx-auto px-4 py-4">
          <div className="flex items-center justify-between">
            <Link to="/" className="text-xl font-bold text-blue-600">
              Issue Tracker
            </Link>
            <div className="flex gap-4">
              <Link to="/projects" className="text-gray-700 hover:text-blue-600">
                Projects
              </Link>
              <Link to="/issues" className="text-gray-700 hover:text-blue-600">
                Issues
              </Link>
            </div>
          </div>
        </nav>
      </header>
      <main className="container mx-auto px-4 py-8">
        <Outlet />
      </main>
    </div>
  );
}
```

### 1.4 Tailwind CSS 설정

**설치**:

```bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

**tailwind.config.js**:

```javascript
/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

**src/index.css**:

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

**main.tsx에서 import**:

```typescript
// src/main.tsx
import { StrictMode } from 'react';
import { createRoot } from 'react-dom/client';
import './index.css';
import App from './App';

createRoot(document.getElementById('root')!).render(
  <StrictMode>
    <App />
  </StrictMode>,
);
```

### 1.5 공통 컴포넌트

**Button 컴포넌트**:

```typescript
// src/shared/components/Button.tsx
import { ButtonHTMLAttributes } from 'react';

interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'danger';
}

export function Button({ variant = 'primary', className = '', children, ...props }: ButtonProps) {
  const baseClasses = 'px-4 py-2 rounded-md font-medium transition-colors';

  const variantClasses = {
    primary: 'bg-blue-600 text-white hover:bg-blue-700',
    secondary: 'bg-gray-200 text-gray-800 hover:bg-gray-300',
    danger: 'bg-red-600 text-white hover:bg-red-700',
  };

  return (
    <button
      className={`${baseClasses} ${variantClasses[variant]} ${className}`}
      {...props}
    >
      {children}
    </button>
  );
}
```

**Card 컴포넌트**:

```typescript
// src/shared/components/Card.tsx
import { ReactNode } from 'react';

interface CardProps {
  children: ReactNode;
  className?: string;
}

export function Card({ children, className = '' }: CardProps) {
  return (
    <div className={`bg-white rounded-lg shadow p-6 ${className}`}>
      {children}
    </div>
  );
}
```

### 1.6 GitHub Actions CI

**.github/workflows/ci.yml**:

```yaml
name: CI

on:
  push:
    branches: [main, develop, 'feature/**']
  pull_request:
    branches: [main, develop]

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'

      - name: Install dependencies
        run: npm ci

      - name: Run linter
        run: npm run lint

      - name: Run tests
        run: npm test

      - name: Build application
        run: npm run build
```

---

## 2. M2: Issue Tracker CRUD

### 2.1 목표

* React Hook Form + Zod로 폼 검증
* fetch/axios로 API 연동
* useState, useEffect 기본 패턴
* CRUD UI (목록/상세/생성/수정/삭제)

### 2.2 TypeScript 타입 정의

```typescript
// src/features/issue/types.ts
export interface Issue {
  id: number;
  title: string;
  description: string;
  status: 'OPEN' | 'IN_PROGRESS' | 'RESOLVED' | 'CLOSED';
  projectId: number;
  reporterId: number;
  assigneeId?: number;
  createdAt: string;
  updatedAt: string;
}

export interface CreateIssueDto {
  title: string;
  description: string;
  projectId: number;
}

export interface UpdateIssueDto {
  title?: string;
  description?: string;
  status?: string;
  assigneeId?: number;
}
```

### 2.3 API 클라이언트

```typescript
// src/shared/lib/apiClient.ts
const API_BASE_URL = import.meta.env.VITE_API_BASE_URL || 'http://localhost:3000/api';

export class ApiError extends Error {
  constructor(public status: number, message: string) {
    super(message);
    this.name = 'ApiError';
  }
}

export async function apiRequest<T>(
  endpoint: string,
  options?: RequestInit
): Promise<T> {
  const token = localStorage.getItem('access_token');

  const headers = {
    'Content-Type': 'application/json',
    ...(token && { Authorization: `Bearer ${token}` }),
    ...options?.headers,
  };

  const response = await fetch(`${API_BASE_URL}${endpoint}`, {
    ...options,
    headers,
  });

  if (!response.ok) {
    const error = await response.json().catch(() => ({ message: 'Unknown error' }));
    throw new ApiError(response.status, error.message);
  }

  return response.json();
}
```

### 2.4 React Hook Form + Zod

**설치**:

```bash
npm install react-hook-form zod @hookform/resolvers
```

**Zod 스키마**:

```typescript
// src/features/issue/schemas.ts
import { z } from 'zod';

export const createIssueSchema = z.object({
  title: z.string().min(3, '제목은 최소 3자 이상이어야 합니다'),
  description: z.string().min(10, '설명은 최소 10자 이상이어야 합니다'),
  projectId: z.number().int().positive(),
});

export type CreateIssueFormData = z.infer<typeof createIssueSchema>;
```

**CreateIssueForm 컴포넌트**:

```typescript
// src/features/issue/CreateIssueForm.tsx
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { createIssueSchema, CreateIssueFormData } from './schemas';
import { Button } from '@/shared/components/Button';

interface CreateIssueFormProps {
  projectId: number;
  onSubmit: (data: CreateIssueFormData) => Promise<void>;
}

export function CreateIssueForm({ projectId, onSubmit }: CreateIssueFormProps) {
  const {
    register,
    handleSubmit,
    formState: { errors, isSubmitting },
  } = useForm<CreateIssueFormData>({
    resolver: zodResolver(createIssueSchema),
    defaultValues: {
      projectId,
    },
  });

  return (
    <form onSubmit={handleSubmit(onSubmit)} className="space-y-4">
      <div>
        <label htmlFor="title" className="block text-sm font-medium text-gray-700">
          제목
        </label>
        <input
          id="title"
          type="text"
          {...register('title')}
          className="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
        />
        {errors.title && (
          <p className="mt-1 text-sm text-red-600">{errors.title.message}</p>
        )}
      </div>

      <div>
        <label htmlFor="description" className="block text-sm font-medium text-gray-700">
          설명
        </label>
        <textarea
          id="description"
          rows={4}
          {...register('description')}
          className="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"
        />
        {errors.description && (
          <p className="mt-1 text-sm text-red-600">{errors.description.message}</p>
        )}
      </div>

      <Button type="submit" disabled={isSubmitting}>
        {isSubmitting ? '생성 중...' : '이슈 생성'}
      </Button>
    </form>
  );
}
```

### 2.5 이슈 목록 페이지

```typescript
// src/features/issue/IssueListPage.tsx
import { useState, useEffect } from 'react';
import { Link, useParams } from 'react-router-dom';
import { apiRequest } from '@/shared/lib/apiClient';
import { Issue } from './types';
import { Card } from '@/shared/components/Card';

export function IssueListPage() {
  const { projectId } = useParams<{ projectId: string }>();
  const [issues, setIssues] = useState<Issue[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    async function fetchIssues() {
      try {
        const data = await apiRequest<Issue[]>(`/projects/${projectId}/issues`);
        setIssues(data);
      } catch (err) {
        setError(err instanceof Error ? err.message : 'Failed to fetch issues');
      } finally {
        setLoading(false);
      }
    }

    fetchIssues();
  }, [projectId]);

  if (loading) return <div>Loading...</div>;
  if (error) return <div className="text-red-600">{error}</div>;

  return (
    <div>
      <div className="flex justify-between items-center mb-6">
        <h1 className="text-2xl font-bold">이슈 목록</h1>
        <Link
          to={`/projects/${projectId}/issues/new`}
          className="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
        >
          새 이슈 생성
        </Link>
      </div>

      <div className="space-y-4">
        {issues.map((issue) => (
          <Card key={issue.id}>
            <Link to={`/issues/${issue.id}`}>
              <h3 className="text-lg font-semibold mb-2">{issue.title}</h3>
              <p className="text-gray-600 mb-2">{issue.description}</p>
              <div className="flex gap-2">
                <span className="px-2 py-1 text-xs rounded bg-gray-200">
                  {issue.status}
                </span>
                <span className="text-sm text-gray-500">
                  {new Date(issue.createdAt).toLocaleDateString()}
                </span>
              </div>
            </Link>
          </Card>
        ))}
      </div>
    </div>
  );
}
```

### 2.6 이슈 생성 페이지

```typescript
// src/features/issue/CreateIssuePage.tsx
import { useNavigate, useParams } from 'react-router-dom';
import { CreateIssueForm } from './CreateIssueForm';
import { CreateIssueFormData } from './schemas';
import { apiRequest } from '@/shared/lib/apiClient';

export function CreateIssuePage() {
  const { projectId } = useParams<{ projectId: string }>();
  const navigate = useNavigate();

  async function handleSubmit(data: CreateIssueFormData) {
    try {
      await apiRequest(`/projects/${projectId}/issues`, {
        method: 'POST',
        body: JSON.stringify(data),
      });

      navigate(`/projects/${projectId}/issues`);
    } catch (error) {
      console.error('Failed to create issue:', error);
      alert('이슈 생성에 실패했습니다.');
    }
  }

  return (
    <div>
      <h1 className="text-2xl font-bold mb-6">새 이슈 생성</h1>
      <CreateIssueForm
        projectId={Number(projectId)}
        onSubmit={handleSubmit}
      />
    </div>
  );
}
```

### 2.7 이슈 상세 페이지

```typescript
// src/features/issue/IssueDetailPage.tsx
import { useState, useEffect } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { apiRequest } from '@/shared/lib/apiClient';
import { Issue } from './types';
import { Button } from '@/shared/components/Button';
import { Card } from '@/shared/components/Card';

export function IssueDetailPage() {
  const { issueId } = useParams<{ issueId: string }>();
  const navigate = useNavigate();
  const [issue, setIssue] = useState<Issue | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    async function fetchIssue() {
      try {
        const data = await apiRequest<Issue>(`/issues/${issueId}`);
        setIssue(data);
      } catch (error) {
        console.error('Failed to fetch issue:', error);
      } finally {
        setLoading(false);
      }
    }

    fetchIssue();
  }, [issueId]);

  async function handleDelete() {
    if (!confirm('정말 삭제하시겠습니까?')) return;

    try {
      await apiRequest(`/issues/${issueId}`, {
        method: 'DELETE',
      });

      navigate(`/projects/${issue!.projectId}/issues`);
    } catch (error) {
      console.error('Failed to delete issue:', error);
      alert('이슈 삭제에 실패했습니다.');
    }
  }

  if (loading) return <div>Loading...</div>;
  if (!issue) return <div>Issue not found</div>;

  return (
    <div>
      <Card>
        <div className="flex justify-between items-start mb-4">
          <h1 className="text-2xl font-bold">{issue.title}</h1>
          <div className="flex gap-2">
            <Button variant="secondary" onClick={() => navigate(`/issues/${issueId}/edit`)}>
              수정
            </Button>
            <Button variant="danger" onClick={handleDelete}>
              삭제
            </Button>
          </div>
        </div>

        <div className="space-y-4">
          <div>
            <span className="px-2 py-1 text-xs rounded bg-gray-200">
              {issue.status}
            </span>
          </div>

          <div>
            <h3 className="font-semibold mb-2">설명</h3>
            <p className="text-gray-700">{issue.description}</p>
          </div>

          <div className="text-sm text-gray-500">
            <p>생성일: {new Date(issue.createdAt).toLocaleString()}</p>
            <p>수정일: {new Date(issue.updatedAt).toLocaleString()}</p>
          </div>
        </div>
      </Card>
    </div>
  );
}
```

---

## 3. M1-M2 체크리스트

이 문서 기준으로, 아래를 만족하면 Milestone 1-2는 통과로 본다.

### M1 체크리스트

* [ ] Vite 프로젝트를 생성하고, `npm run dev`로 로컬에서 실행할 수 있다.
* [ ] React Router로 여러 페이지를 만들고, 네비게이션할 수 있다.
* [ ] Tailwind CSS로 레이아웃과 스타일을 적용할 수 있다.
* [ ] 재사용 가능한 공통 컴포넌트 (Button, Card)를 만들 수 있다.
* [ ] GitHub Actions CI가 push 시마다 자동으로 돌아가고, 빌드가 성공한다.

### M2 체크리스트

* [ ] React Hook Form + Zod로 폼을 만들고, 검증할 수 있다.
* [ ] fetch/apiClient로 백엔드 API를 호출하고, 응답을 화면에 표시할 수 있다.
* [ ] useState, useEffect로 컴포넌트 상태를 관리할 수 있다.
* [ ] CRUD UI를 구현하고, 목록/상세/생성/수정/삭제를 모두 테스트할 수 있다.
* [ ] TypeScript 타입을 정의하고, 타입 안전성을 확보할 수 있다.

여기까지 구현하면:

* **React + TypeScript 프로젝트 기반**
* **라우팅 & 레이아웃**
* **폼 검증 & API 연동**
* **CRUD UI**

까지 **React 프론트엔드 개발의 기초**가 완성된 상태다.

**다음 단계** (문서 3):

* M3: 로그인/인증/인가 UX
* M4: 통계/데이터 패칭 패턴

---

## 4. 참고 자료

* [React 공식 문서](https://react.dev/)
* [Vite 공식 문서](https://vitejs.dev/)
* [React Router 공식 문서](https://reactrouter.com/)
* [Tailwind CSS 공식 문서](https://tailwindcss.com/)
* [React Hook Form 공식 문서](https://react-hook-form.com/)
* [Zod 공식 문서](https://zod.dev/)
